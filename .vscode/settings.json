{
  "editor.fontSize": 18,
  "chat.mcp.access": "all",
  "chat.mcp.discovery.enabled": {
    "claude-desktop": true,
    "windsurf": true,
    "cursor-global": true,
    "cursor-workspace": true
  },
  "chat.mcp.workspace.enabled": true,
  // ========== GitHub Copilot & AI Chat 设置 ==========
  // Copilot 核心功能
  "github.copilot.enable": {
    "*": true,
    "yaml": true,
    "plaintext": false,
    "markdown": true
  },
  // Copilot Chat 设置
  "github.copilot.editor.enableAutoCompletions": true,
  "github.copilot.chat.codeGeneration.useInstructionFiles": true,
  "github.copilot.chat.welcomeMessage": "never",
  "github.copilot.chat.followUps": "always",
  "github.copilot.chat.useProjectTemplates": true,
  "github.copilot.chat.documentationFirst": true,
  "github.copilot.chat.enforceEnglishForAI": true,
  // Chat 工具和提示设置
  "chat.promptFilesRecommendations": {
    "plan": true,                            // Always suggest
    "a11y-audit": "resourceExtname == .html", // Only for HTML files
    "document": "resourceLangId == markdown", // Only for Markdown files
    "debug": false                           // Never suggest
  },
  "chat.tools.terminal.enableAutoApprove": true,

  // Copilot 高级设置
  "github.copilot.advanced": {
    "secret_key": "github_copilot_key",
    "length": 500,
    "temperature": 0.1,
    "top_p": 1,
    "stop": ["\n\n", "\n\r\n"],
    "indentationMode": {
      "python": "spaces",
      "javascript": "spaces",
      "typescript": "spaces"
    }
  },

  // ========== 代码格式化设置 ==========
  "prettier.prettierPath": "node_modules/prettier",

  // ========== 终端配置 ==========
  // macOS 终端（默认用 zsh 最稳）
  "terminal.integrated.defaultProfile.osx": "zsh",
  "terminal.integrated.profiles.osx": {
    "zsh": { "path": "/bin/zsh" },
    "bash (system)": { "path": "/bin/bash", "args": ["-l","-i"] },
    "bash (Homebrew)": { "path": "/opt/homebrew/bin/bash", "args": ["-l","-i"] }
  },

  // Windows 终端配置
  "terminal.integrated.defaultProfile.windows": "Git Bash",
  "terminal.integrated.profiles.windows": {
    "Git Bash": {
      "path": [
        "${workspaceFolder}\\..\\PortableGit\\bin\\bash.exe",
        "${workspaceFolder}\\..\\git\\bin\\bash.exe",
        "${workspaceFolder}\\..\\Git\\bin\\bash.exe",
        "C:\\Program Files\\Git\\bin\\bash.exe"
      ],
      "args": ["-l", "-i"],
      "icon": "terminal-bash"
    }
  },

  // ========== Java 开发环境 ==========
  // Java 多版本配置（与你现在一致）
  // "java.configuration.runtimes": [
  //   { "name": "JavaSE-17", "path": "/Library/Java/JavaVirtualMachines/temurin-17.jdk/Contents/Home"},
  //   { "name": "JavaSE-21", "path": "/Library/Java/JavaVirtualMachines/temurin-21.jdk/Contents/Home", "default": true  }
  // ],
  "java.compile.nullAnalysis.mode": "automatic",
  "java.configuration.updateBuildConfiguration": "automatic",
  // "editor.formatOnSave": true,
  "files.trimTrailingWhitespace": true,
  "github.copilot.chat.context.experimental": true,
  "github.copilot.chat.showWelcome": false,
  "mcpServers": {
    "context7": { "command": "npx", "args": ["-y", "@upstash/context7-mcp"] },
    "filesystem": { "command": "npx", "args": ["-y", "@modelcontextprotocol/server-filesystem", "--dir", "docs", "--readOnly"] },
    "git": { "command": "npx", "args": ["-y", "@mseep/git-mcp-server"] },
    "openapi": { "command": "npx", "args": ["-y", "@reapi/mcp-openapi@latest", "--dir", "./specs"] },
    "db_sqlite": { "command": "npx", "args": ["-y", "@executeautomation/database-server", "./sql/dev.sqlite3"] },
    "db_postgres": {
      "command": "npx",
      "args": ["-y", "@executeautomation/database-server", "--postgresql", "--host", "127.0.0.1", "--database", "appdb", "--user", "appuser", "--password", "secret"]
    },
    "db_mysql": {
      "command": "npx",
      "args": [
        "-y",
        "@executeautomation/database-server",
        "--mysql",
        "--host", "127.0.0.1",
        "--port", "3306",
        "--database", "appdb",
        "--user", "appuser",
        "--password", "secret",
        "--ssl", "false"
      ]
    },
    "memory": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-memory"],
      "env": { "memory.jsonl": ".mcp-memory.jsonl" }
    }
  },
  "[python]": {
    "editor.defaultFormatter": "ms-python.python"
  },
  "ruff.lint.enable": true,
  "ruff.format.enable": true,
  "python.analysis.typeCheckingMode": "basic",
  "python.testing.pytestEnabled": true,
  "python.testing.pytestArgs": ["tests"],
  "python.envFile": "${workspaceFolder}/.env",
  "python.defaultInterpreterPath": "${workspaceFolder}/.venv/bin/python",
  // ****** Proxy Start ***********
  "workbench.editor.enablePreview": false,
  // "http.proxy": "http://127.0.0.1:10809",
  // "https.proxy": "http://127.0.0.1:10809",
  "http.proxyStrictSSL": false,
  "http.proxySupport": "override",
  "http.noProxy": ["127.0.0.1", "localhost", ".local"],
  "cursor.general.disableHttp2": true,
  "terminal.integrated.env.osx": {
    // "HTTP_PROXY": "http://127.0.0.1:10809",
    // "HTTPS_PROXY": "http://127.0.0.1:10809",
    "NO_PROXY": "127.0.0.1,localhost,.local"
  },
  // ****** Proxy End *************
}